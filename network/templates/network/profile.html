{% extends "network/layout.html" %}

{% block body %}

    <div id="allPostsCont">
      <h2>{{profile_user.username}}</h2>

    {% if request.user != profile_user %}
        <form method="POST" action="{% url is_following|yesno:'unfollow,follow' profile_user.id %}">
            {% csrf_token %}
            <button type="submit">
                {{ is_following|yesno:"Unfollow,Follow" }}
            </button>
        </form>
    {% endif %}



    <p>Followers: {{ profile_user.followers.count }}</p>
    <p>Following: {{ profile_user.following.count }}</p>

    <hr>

    <h3>Posts</h3>
    {% for post in posts %}
        <div class="post">
            <strong style="margin-bottom: 10px;"><a style=" color: black;" href="{% url 'profile' post.user.id %}">{{ post.user.username }}</a></strong>


            <p>{{ post.postContent }}</p>
            <small>{{ post.dateCreated }}</small>
        </div>
    {% empty %}
        <p>No Posts.</p>
    {% endfor %}  
    </div>
    




{% endblock %}